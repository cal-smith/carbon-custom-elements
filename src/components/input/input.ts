import settings from 'carbon-components/es/globals/js/settings';
import { customElement, LitElement, html, property } from 'lit-element';
import WarningFilled16 from '@carbon/icons/lib/warning--filled/16';
import styles from './input.scss';

const { prefix } = settings;

@customElement(`${prefix}-input`)
export default class BXInput extends LitElement {
  @property()
  placeholder = '';

  @property()
  value = '';

  @property()
  type = 'text';

  @property({ type: Boolean })
  disabled = false;

  @property({ type: Boolean })
  invalid = false;

  render() {
    const invalidIcon = WarningFilled16({ class: 'bx--text-input__invalid-icon' });

    return html`
      <div class="bx--text-input__field-wrapper">
        ${this.invalid ? invalidIcon : null}
        <input
          class="bx--text-input"
          ?data-invalid="${this.invalid}"
          ?disabled="${this.disabled}"
          type="${this.type}"
          value="${this.value}"
          placeholder="${this.placeholder}"
        />
      </div>
    `;
  }

  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader
}
